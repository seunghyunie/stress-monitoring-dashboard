# 🏭 실시간 작업자 스트레스 모니터링 대시보드

## 📋 개요
작업자의 심박수 데이터를 실시간으로 모니터링하여 스트레스 상태를 감지하고 시각화하는 웹 대시보드입니다.

## ✨ 주요 기능
- ✅ **4명 작업자 동시 모니터링**
- ✅ **실시간 그래프** (1초 업데이트)
- ✅ **CSV 파일 업로드** (timestamp, HR 데이터)
- ✅ **시뮬레이션 데모 모드** (랜덤 데이터 생성)
- ✅ **사용자 조정 가능한 스트레스 임계값**
- ✅ **빨간색 경고 알림 시스템**
- ✅ **웹 브라우저 접근** (Streamlit 기반)

## 🚀 설치 및 실행

### 1. 라이브러리 설치
```bash
pip install -r requirements.txt
```

### 2. 모델 경로 설정
`config.py` 파일에서 학습된 모델 파일 경로를 실제 경로로 수정하세요:
```python
MODEL_CONFIG = {
    'hrv_model_path': "실제_HRV_모델_경로.keras",
    'stress_model_path': "실제_스트레스_모델_경로.keras",
}
```

### 3. 대시보드 실행
```bash
streamlit run dashboard.py
```

### 4. 웹 브라우저에서 접속
기본적으로 `http://localhost:8501`에서 대시보드에 접근할 수 있습니다.

## 📊 사용 방법

### 🎲 시뮬레이션 모드
1. 사이드바에서 "🎲 시뮬레이션 데모" 선택
2. "▶️ 시작" 버튼 클릭
3. 4명 작업자의 랜덤 심박수 데이터 및 스트레스 상태 실시간 확인
4. "⏹️ 정지" 버튼으로 시뮬레이션 중단

### 📁 CSV 업로드 모드
1. 사이드바에서 "📁 CSV 파일 업로드" 선택
2. 각 작업자별로 CSV 파일 업로드
3. CSV 파일 형식: `timestamp, HR` 컬럼 필수
4. 업로드 즉시 스트레스 분석 결과 표시

### ⚙️ 설정 조정
- **스트레스 임계값**: 사이드바 슬라이더로 0.1~0.9 범위에서 조정
- **낮은 값**: 더 민감한 스트레스 감지
- **높은 값**: 더 보수적인 스트레스 감지

## 📁 파일 구조
```
real_time_stress_monitor/
├── 📄 config.py              # 설정 파일
├── 📄 stress_predictor.py     # 스트레스 예측 엔진
├── 📄 data_simulator.py       # 데이터 시뮬레이터
├── 📄 dashboard.py            # 메인 웹 대시보드
├── 📄 requirements.txt        # 필요 라이브러리
└── 📄 README.md              # 사용 설명서
```

## 🎯 CSV 파일 형식
```csv
timestamp,HR
2024-01-01 10:00:00,75
2024-01-01 10:00:01,78
2024-01-01 10:00:02,82
...
```

**지원되는 timestamp 형식:**
- `YYYY-MM-DD HH:MM:SS`
- `YYYY/MM/DD HH:MM:SS`
- `DD/MM/YYYY HH:MM:SS`
- `YYYY-MM-DD HH:MM:SS.ffffff`

## ⚠️ 주의사항
1. **모델 파일**: 실제 학습된 모델 파일이 지정된 경로에 있어야 합니다
2. **심박수 범위**: 30~200 BPM 범위를 벗어난 데이터는 자동 필터링됩니다
3. **파일 크기**: CSV 파일은 최대 50MB까지 지원됩니다
4. **브라우저**: 최신 버전의 Chrome, Firefox, Safari 권장

## 🔧 커스터마이징
- **작업자 수 변경**: `config.py`의 `WORKERS` 딕셔너리 수정
- **업데이트 주기 변경**: `DASHBOARD_CONFIG['update_interval']` 값 조정
- **색상 테마 변경**: `ALERT_CONFIG`에서 색상 코드 수정
- **시뮬레이션 설정**: `SIMULATION_CONFIG`에서 심박수 범위 및 패턴 조정

## 🎬 데모 영상
실행 후 시뮬레이션 모드에서 다음을 확인할 수 있습니다:
- 실시간 심박수 그래프
- 스트레스 확률 변화
- 임계값 초과 시 빨간색 경고
- 4명 작업자 상태 요약

---
**🏭 안전한 작업 환경을 위한 실시간 모니터링 시스템** ⚡
